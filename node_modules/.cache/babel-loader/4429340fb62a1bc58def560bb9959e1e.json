{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = [];\nexport const fetchSchoolsAsync = createAsyncThunk(\"allSchools\", async () => {\n  try {\n    const {\n      data\n    } = await axios.get(`/api/schools`);\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n});\nexport const addSchoolAsync = createAsyncThunk(\"createSchool\", async _ref => {\n  let {\n    fname,\n    lname,\n    email,\n    gpa,\n    imgUrl,\n    campusId\n  } = _ref;\n\n  try {\n    const {\n      data\n    } = await axios.post(`/api/schools/`, {\n      fname,\n      lname,\n      email,\n      gpa,\n      imgUrl,\n      campusId\n    });\n    return data;\n  } catch (err) {\n    console.log(err.response);\n  }\n});\nexport const deleteSchoolAsync = createAsyncThunk(\"deleteSchool\", async schoolId => {\n  try {\n    const {\n      data\n    } = await axios.delete(`/api/schools/${schoolId}`);\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n});\nexport const editSchoolAsync = createAsyncThunk(\"editSchool\", async _ref2 => {\n  let {\n    id,\n    fname,\n    lname,\n    email,\n    gpa,\n    imgUrl,\n    campusId\n  } = _ref2;\n  const {\n    data\n  } = await axios.put(`/api/schools/${id}`, {\n    fname,\n    lname,\n    email,\n    gpa,\n    imgUrl,\n    campusId\n  });\n  return data;\n});\nconst schoolsSlice = createSlice({\n  name: \"schools\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchSchoolsAsync.fulfilled, (state, action) => {\n      // Add user to the state array\n      return action.payload;\n    });\n  }\n});\nexport const selectSchools = state => {\n  return state.schools;\n};\nexport default schoolsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","fetchSchoolsAsync","data","get","err","console","log","addSchoolAsync","fname","lname","email","gpa","imgUrl","campusId","post","response","deleteSchoolAsync","schoolId","delete","editSchoolAsync","id","put","schoolsSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","selectSchools","schools","reducer"],"sources":["/home/parzidog/fsa/asyncProject/portfolio/src/features/schoolsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = [];\n\nexport const fetchSchoolsAsync = createAsyncThunk(\"allSchools\", async () => {\n  try {\n    const { data } = await axios.get(`/api/schools`);\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n});\n\nexport const addSchoolAsync = createAsyncThunk(\"createSchool\", async ({fname, lname, email, gpa, imgUrl, campusId}) => {\n  try {\n    const { data } = await axios.post(`/api/schools/`,{\n      fname,\n      lname,\n      email, \n      gpa,\n      imgUrl,\n      campusId\n    });\n    return data;\n  } catch (err) {\n    console.log(err.response);\n  }\n});\n\nexport const deleteSchoolAsync = createAsyncThunk(\"deleteSchool\", async (schoolId)=>{\n  try{\n    const { data } = await axios.delete(`/api/schools/${schoolId}`);\n    return data;\n  }\n  catch(err){\n    console.log(err)\n  }\n})\n\nexport const editSchoolAsync = createAsyncThunk(\n  \"editSchool\",\n  async ({id,fname, lname, email, gpa, imgUrl, campusId}) => {\n    const { data } = await axios.put(`/api/schools/${id}`, {\n      fname,\n      lname,\n      email, \n      gpa,\n      imgUrl,\n      campusId\n    });\n    return data;\n  }\n);\n\nconst schoolsSlice = createSlice({\n  name: \"schools\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchSchoolsAsync.fulfilled, (state, action) => {\n      // Add user to the state array\n      return action.payload;\n    });\n  },\n});\n\nexport const selectSchools = (state) => {\n  return state.schools;\n};\n\nexport default schoolsSlice.reducer;"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG,EAArB;AAEA,OAAO,MAAMC,iBAAiB,GAAGH,gBAAgB,CAAC,YAAD,EAAe,YAAY;EAC1E,IAAI;IACF,MAAM;MAAEI;IAAF,IAAW,MAAMH,KAAK,CAACI,GAAN,CAAW,cAAX,CAAvB;IACA,OAAOD,IAAP;EACD,CAHD,CAGE,OAAOE,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;EACD;AACF,CAPgD,CAA1C;AASP,OAAO,MAAMG,cAAc,GAAGT,gBAAgB,CAAC,cAAD,EAAiB,cAAwD;EAAA,IAAjD;IAACU,KAAD;IAAQC,KAAR;IAAeC,KAAf;IAAsBC,GAAtB;IAA2BC,MAA3B;IAAmCC;EAAnC,CAAiD;;EACrH,IAAI;IACF,MAAM;MAAEX;IAAF,IAAW,MAAMH,KAAK,CAACe,IAAN,CAAY,eAAZ,EAA2B;MAChDN,KADgD;MAEhDC,KAFgD;MAGhDC,KAHgD;MAIhDC,GAJgD;MAKhDC,MALgD;MAMhDC;IANgD,CAA3B,CAAvB;IAQA,OAAOX,IAAP;EACD,CAVD,CAUE,OAAOE,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACW,QAAhB;EACD;AACF,CAd6C,CAAvC;AAgBP,OAAO,MAAMC,iBAAiB,GAAGlB,gBAAgB,CAAC,cAAD,EAAiB,MAAOmB,QAAP,IAAkB;EAClF,IAAG;IACD,MAAM;MAAEf;IAAF,IAAW,MAAMH,KAAK,CAACmB,MAAN,CAAc,gBAAeD,QAAS,EAAtC,CAAvB;IACA,OAAOf,IAAP;EACD,CAHD,CAIA,OAAME,GAAN,EAAU;IACRC,OAAO,CAACC,GAAR,CAAYF,GAAZ;EACD;AACF,CARgD,CAA1C;AAUP,OAAO,MAAMe,eAAe,GAAGrB,gBAAgB,CAC7C,YAD6C,EAE7C,eAA2D;EAAA,IAApD;IAACsB,EAAD;IAAIZ,KAAJ;IAAWC,KAAX;IAAkBC,KAAlB;IAAyBC,GAAzB;IAA8BC,MAA9B;IAAsCC;EAAtC,CAAoD;EACzD,MAAM;IAAEX;EAAF,IAAW,MAAMH,KAAK,CAACsB,GAAN,CAAW,gBAAeD,EAAG,EAA7B,EAAgC;IACrDZ,KADqD;IAErDC,KAFqD;IAGrDC,KAHqD;IAIrDC,GAJqD;IAKrDC,MALqD;IAMrDC;EANqD,CAAhC,CAAvB;EAQA,OAAOX,IAAP;AACD,CAZ4C,CAAxC;AAeP,MAAMoB,YAAY,GAAGzB,WAAW,CAAC;EAC/B0B,IAAI,EAAE,SADyB;EAE/BvB,YAF+B;EAG/BwB,QAAQ,EAAE,EAHqB;EAI/BC,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CAACC,OAAR,CAAgB1B,iBAAiB,CAAC2B,SAAlC,EAA6C,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC9D;MACA,OAAOA,MAAM,CAACC,OAAd;IACD,CAHD;EAID;AAT8B,CAAD,CAAhC;AAYA,OAAO,MAAMC,aAAa,GAAIH,KAAD,IAAW;EACtC,OAAOA,KAAK,CAACI,OAAb;AACD,CAFM;AAIP,eAAeX,YAAY,CAACY,OAA5B"},"metadata":{},"sourceType":"module"}