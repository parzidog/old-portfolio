{"ast":null,"code":"import _regeneratorRuntime from\"/home/parzidog/fsa/asyncProject/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/parzidog/fsa/asyncProject/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";var initialState=[];export var fetchProjectsAsync=createAsyncThunk(\"allProjects\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/projects\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})));export var addProjectAsync=createAsyncThunk(\"createProject\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2){var fname,lname,email,gpa,imgUrl,campusId,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fname=_ref2.fname,lname=_ref2.lname,email=_ref2.email,gpa=_ref2.gpa,imgUrl=_ref2.imgUrl,campusId=_ref2.campusId;_context2.prev=1;_context2.next=4;return axios.post(\"/api/projects/\",{fname:fname,lname:lname,email:email,gpa:gpa,imgUrl:imgUrl,campusId:campusId});case 4:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;return _context2.abrupt(\"return\",data);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.response);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function(_x){return _ref3.apply(this,arguments);};}());export var deleteProjectAsync=createAsyncThunk(\"deleteProject\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(projectId){var _yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/projects/\".concat(projectId));case 3:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;return _context3.abrupt(\"return\",data);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x2){return _ref4.apply(this,arguments);};}());export var editProjectAsync=createAsyncThunk(\"editProject\",/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_ref5){var id,fname,lname,email,gpa,imgUrl,campusId,_yield$axios$put,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:id=_ref5.id,fname=_ref5.fname,lname=_ref5.lname,email=_ref5.email,gpa=_ref5.gpa,imgUrl=_ref5.imgUrl,campusId=_ref5.campusId;_context4.next=3;return axios.put(\"/api/projects/\".concat(id),{fname:fname,lname:lname,email:email,gpa:gpa,imgUrl:imgUrl,campusId:campusId});case 3:_yield$axios$put=_context4.sent;data=_yield$axios$put.data;return _context4.abrupt(\"return\",data);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref6.apply(this,arguments);};}());var projectsSlice=createSlice({name:\"projects\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchProjectsAsync.fulfilled,function(state,action){// Add user to the state array\nreturn action.payload;});}});export var selectProjects=function selectProjects(state){return state.projects;};export default projectsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","fetchProjectsAsync","get","data","console","log","addProjectAsync","fname","lname","email","gpa","imgUrl","campusId","post","response","deleteProjectAsync","projectId","delete","editProjectAsync","id","put","projectsSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","selectProjects","projects","reducer"],"sources":["/home/parzidog/fsa/asyncProject/portfolio/src/features/projectsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = [];\n\nexport const fetchProjectsAsync = createAsyncThunk(\"allProjects\", async () => {\n  try {\n    const { data } = await axios.get(`/api/projects`);\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n});\n\nexport const addProjectAsync = createAsyncThunk(\"createProject\", async ({fname, lname, email, gpa, imgUrl, campusId}) => {\n  try {\n    const { data } = await axios.post(`/api/projects/`,{\n      fname,\n      lname,\n      email, \n      gpa,\n      imgUrl,\n      campusId\n    });\n    return data;\n  } catch (err) {\n    console.log(err.response);\n  }\n});\n\nexport const deleteProjectAsync = createAsyncThunk(\"deleteProject\", async (projectId)=>{\n  try{\n    const { data } = await axios.delete(`/api/projects/${projectId}`);\n    return data;\n  }\n  catch(err){\n    console.log(err)\n  }\n})\n\nexport const editProjectAsync = createAsyncThunk(\n  \"editProject\",\n  async ({id,fname, lname, email, gpa, imgUrl, campusId}) => {\n    const { data } = await axios.put(`/api/projects/${id}`, {\n      fname,\n      lname,\n      email, \n      gpa,\n      imgUrl,\n      campusId\n    });\n    return data;\n  }\n);\n\nconst projectsSlice = createSlice({\n  name: \"projects\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchProjectsAsync.fulfilled, (state, action) => {\n      // Add user to the state array\n      return action.payload;\n    });\n  },\n});\n\nexport const selectProjects = (state) => {\n  return state.projects;\n};\n\nexport default projectsSlice.reducer;"],"mappings":"8QAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,GAAMC,aAAY,CAAG,EAArB,CAEA,MAAO,IAAMC,mBAAkB,CAAGH,gBAAgB,CAAC,aAAD,wEAAgB,qMAEvCC,MAAK,CAACG,GAAN,iBAFuC,uCAEtDC,IAFsD,kBAEtDA,IAFsD,iCAGvDA,IAHuD,0DAK9DC,OAAO,CAACC,GAAR,cAL8D,oEAAhB,GAA3C,CASP,MAAO,IAAMC,gBAAe,CAAGR,gBAAgB,CAAC,eAAD,6FAAkB,gNAAQS,KAAR,OAAQA,KAAR,CAAeC,KAAf,OAAeA,KAAf,CAAsBC,KAAtB,OAAsBA,KAAtB,CAA6BC,GAA7B,OAA6BA,GAA7B,CAAkCC,MAAlC,OAAkCA,MAAlC,CAA0CC,QAA1C,OAA0CA,QAA1C,yCAEtCb,MAAK,CAACc,IAAN,kBAA4B,CACjDN,KAAK,CAALA,KADiD,CAEjDC,KAAK,CAALA,KAFiD,CAGjDC,KAAK,CAALA,KAHiD,CAIjDC,GAAG,CAAHA,GAJiD,CAKjDC,MAAM,CAANA,MALiD,CAMjDC,QAAQ,CAARA,QANiD,CAA5B,CAFsC,yCAErDT,IAFqD,mBAErDA,IAFqD,kCAUtDA,IAVsD,6DAY7DC,OAAO,CAACC,GAAR,CAAY,aAAIS,QAAhB,EAZ6D,sEAAlB,gEAAxC,CAgBP,MAAO,IAAMC,mBAAkB,CAAGjB,gBAAgB,CAAC,eAAD,6FAAkB,kBAAOkB,SAAP,6LAEzCjB,MAAK,CAACkB,MAAN,yBAA8BD,SAA9B,EAFyC,2CAExDb,IAFwD,qBAExDA,IAFwD,kCAGzDA,IAHyD,6DAMhEC,OAAO,CAACC,GAAR,eANgE,sEAAlB,iEAA3C,CAUP,MAAO,IAAMa,iBAAgB,CAAGpB,gBAAgB,CAC9C,aAD8C,6FAE9C,kNAAQqB,EAAR,OAAQA,EAAR,CAAWZ,KAAX,OAAWA,KAAX,CAAkBC,KAAlB,OAAkBA,KAAlB,CAAyBC,KAAzB,OAAyBA,KAAzB,CAAgCC,GAAhC,OAAgCA,GAAhC,CAAqCC,MAArC,OAAqCA,MAArC,CAA6CC,QAA7C,OAA6CA,QAA7C,wBACyBb,MAAK,CAACqB,GAAN,yBAA2BD,EAA3B,EAAiC,CACtDZ,KAAK,CAALA,KADsD,CAEtDC,KAAK,CAALA,KAFsD,CAGtDC,KAAK,CAALA,KAHsD,CAItDC,GAAG,CAAHA,GAJsD,CAKtDC,MAAM,CAANA,MALsD,CAMtDC,QAAQ,CAARA,QANsD,CAAjC,CADzB,wCACUT,IADV,kBACUA,IADV,kCASSA,IATT,0DAF8C,iEAAzC,CAeP,GAAMkB,cAAa,CAAGxB,WAAW,CAAC,CAChCyB,IAAI,CAAE,UAD0B,CAEhCtB,YAAY,CAAZA,YAFgC,CAGhCuB,QAAQ,CAAE,EAHsB,CAIhCC,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CAACC,OAAR,CAAgBzB,kBAAkB,CAAC0B,SAAnC,CAA8C,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC/D;AACA,MAAOA,OAAM,CAACC,OAAd,CACD,CAHD,EAID,CAT+B,CAAD,CAAjC,CAYA,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAACH,KAAD,CAAW,CACvC,MAAOA,MAAK,CAACI,QAAb,CACD,CAFM,CAIP,cAAeX,cAAa,CAACY,OAA7B"},"metadata":{},"sourceType":"module"}