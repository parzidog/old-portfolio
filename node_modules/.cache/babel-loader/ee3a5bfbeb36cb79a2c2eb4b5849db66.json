{"ast":null,"code":"import _regeneratorRuntime from\"/home/parzidog/fsa/asyncProject/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/parzidog/fsa/asyncProject/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";var initialState=[];export var fetchSchoolsAsync=createAsyncThunk(\"allSchools\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/schools\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})));export var addSchoolAsync=createAsyncThunk(\"createSchool\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2){var fname,lname,email,gpa,imgUrl,campusId,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fname=_ref2.fname,lname=_ref2.lname,email=_ref2.email,gpa=_ref2.gpa,imgUrl=_ref2.imgUrl,campusId=_ref2.campusId;_context2.prev=1;_context2.next=4;return axios.post(\"/api/schools/\",{fname:fname,lname:lname,email:email,gpa:gpa,imgUrl:imgUrl,campusId:campusId});case 4:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;return _context2.abrupt(\"return\",data);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0.response);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function(_x){return _ref3.apply(this,arguments);};}());export var deleteSchoolAsync=createAsyncThunk(\"deleteSchool\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(schoolId){var _yield$axios$delete,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/schools/\".concat(schoolId));case 3:_yield$axios$delete=_context3.sent;data=_yield$axios$delete.data;return _context3.abrupt(\"return\",data);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x2){return _ref4.apply(this,arguments);};}());export var editSchoolAsync=createAsyncThunk(\"editSchool\",/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(_ref5){var id,fname,lname,email,gpa,imgUrl,campusId,_yield$axios$put,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:id=_ref5.id,fname=_ref5.fname,lname=_ref5.lname,email=_ref5.email,gpa=_ref5.gpa,imgUrl=_ref5.imgUrl,campusId=_ref5.campusId;_context4.next=3;return axios.put(\"/api/schools/\".concat(id),{fname:fname,lname:lname,email:email,gpa:gpa,imgUrl:imgUrl,campusId:campusId});case 3:_yield$axios$put=_context4.sent;data=_yield$axios$put.data;return _context4.abrupt(\"return\",data);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref6.apply(this,arguments);};}());var schoolsSlice=createSlice({name:\"schools\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchSchoolsAsync.fulfilled,function(state,action){// Add user to the state array\nreturn action.payload;});}});export var selectSchools=function selectSchools(state){return state.schools;};export default schoolsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","fetchSchoolsAsync","get","data","console","log","addSchoolAsync","fname","lname","email","gpa","imgUrl","campusId","post","response","deleteSchoolAsync","schoolId","delete","editSchoolAsync","id","put","schoolsSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","selectSchools","schools","reducer"],"sources":["/home/parzidog/fsa/asyncProject/portfolio/src/features/schoolsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst initialState = [];\n\nexport const fetchSchoolsAsync = createAsyncThunk(\"allSchools\", async () => {\n  try {\n    const { data } = await axios.get(`/api/schools`);\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n});\n\nexport const addSchoolAsync = createAsyncThunk(\"createSchool\", async ({fname, lname, email, gpa, imgUrl, campusId}) => {\n  try {\n    const { data } = await axios.post(`/api/schools/`,{\n      fname,\n      lname,\n      email, \n      gpa,\n      imgUrl,\n      campusId\n    });\n    return data;\n  } catch (err) {\n    console.log(err.response);\n  }\n});\n\nexport const deleteSchoolAsync = createAsyncThunk(\"deleteSchool\", async (schoolId)=>{\n  try{\n    const { data } = await axios.delete(`/api/schools/${schoolId}`);\n    return data;\n  }\n  catch(err){\n    console.log(err)\n  }\n})\n\nexport const editSchoolAsync = createAsyncThunk(\n  \"editSchool\",\n  async ({id,fname, lname, email, gpa, imgUrl, campusId}) => {\n    const { data } = await axios.put(`/api/schools/${id}`, {\n      fname,\n      lname,\n      email, \n      gpa,\n      imgUrl,\n      campusId\n    });\n    return data;\n  }\n);\n\nconst schoolsSlice = createSlice({\n  name: \"schools\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchSchoolsAsync.fulfilled, (state, action) => {\n      // Add user to the state array\n      return action.payload;\n    });\n  },\n});\n\nexport const selectSchools = (state) => {\n  return state.schools;\n};\n\nexport default schoolsSlice.reducer;"],"mappings":"8QAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,GAAMC,aAAY,CAAG,EAArB,CAEA,MAAO,IAAMC,kBAAiB,CAAGH,gBAAgB,CAAC,YAAD,wEAAe,qMAErCC,MAAK,CAACG,GAAN,gBAFqC,uCAEpDC,IAFoD,kBAEpDA,IAFoD,iCAGrDA,IAHqD,0DAK5DC,OAAO,CAACC,GAAR,cAL4D,oEAAf,GAA1C,CASP,MAAO,IAAMC,eAAc,CAAGR,gBAAgB,CAAC,cAAD,6FAAiB,gNAAQS,KAAR,OAAQA,KAAR,CAAeC,KAAf,OAAeA,KAAf,CAAsBC,KAAtB,OAAsBA,KAAtB,CAA6BC,GAA7B,OAA6BA,GAA7B,CAAkCC,MAAlC,OAAkCA,MAAlC,CAA0CC,QAA1C,OAA0CA,QAA1C,yCAEpCb,MAAK,CAACc,IAAN,iBAA2B,CAChDN,KAAK,CAALA,KADgD,CAEhDC,KAAK,CAALA,KAFgD,CAGhDC,KAAK,CAALA,KAHgD,CAIhDC,GAAG,CAAHA,GAJgD,CAKhDC,MAAM,CAANA,MALgD,CAMhDC,QAAQ,CAARA,QANgD,CAA3B,CAFoC,yCAEnDT,IAFmD,mBAEnDA,IAFmD,kCAUpDA,IAVoD,6DAY3DC,OAAO,CAACC,GAAR,CAAY,aAAIS,QAAhB,EAZ2D,sEAAjB,gEAAvC,CAgBP,MAAO,IAAMC,kBAAiB,CAAGjB,gBAAgB,CAAC,cAAD,6FAAiB,kBAAOkB,QAAP,6LAEvCjB,MAAK,CAACkB,MAAN,wBAA6BD,QAA7B,EAFuC,2CAEtDb,IAFsD,qBAEtDA,IAFsD,kCAGvDA,IAHuD,6DAM9DC,OAAO,CAACC,GAAR,eAN8D,sEAAjB,iEAA1C,CAUP,MAAO,IAAMa,gBAAe,CAAGpB,gBAAgB,CAC7C,YAD6C,6FAE7C,kNAAQqB,EAAR,OAAQA,EAAR,CAAWZ,KAAX,OAAWA,KAAX,CAAkBC,KAAlB,OAAkBA,KAAlB,CAAyBC,KAAzB,OAAyBA,KAAzB,CAAgCC,GAAhC,OAAgCA,GAAhC,CAAqCC,MAArC,OAAqCA,MAArC,CAA6CC,QAA7C,OAA6CA,QAA7C,wBACyBb,MAAK,CAACqB,GAAN,wBAA0BD,EAA1B,EAAgC,CACrDZ,KAAK,CAALA,KADqD,CAErDC,KAAK,CAALA,KAFqD,CAGrDC,KAAK,CAALA,KAHqD,CAIrDC,GAAG,CAAHA,GAJqD,CAKrDC,MAAM,CAANA,MALqD,CAMrDC,QAAQ,CAARA,QANqD,CAAhC,CADzB,wCACUT,IADV,kBACUA,IADV,kCASSA,IATT,0DAF6C,iEAAxC,CAeP,GAAMkB,aAAY,CAAGxB,WAAW,CAAC,CAC/ByB,IAAI,CAAE,SADyB,CAE/BtB,YAAY,CAAZA,YAF+B,CAG/BuB,QAAQ,CAAE,EAHqB,CAI/BC,aAAa,CAAE,uBAACC,OAAD,CAAa,CAC1BA,OAAO,CAACC,OAAR,CAAgBzB,iBAAiB,CAAC0B,SAAlC,CAA6C,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAC9D;AACA,MAAOA,OAAM,CAACC,OAAd,CACD,CAHD,EAID,CAT8B,CAAD,CAAhC,CAYA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACH,KAAD,CAAW,CACtC,MAAOA,MAAK,CAACI,OAAb,CACD,CAFM,CAIP,cAAeX,aAAY,CAACY,OAA5B"},"metadata":{},"sourceType":"module"}